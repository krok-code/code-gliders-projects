{"version":3,"file":"commonHelpers2.js","sources":["../src/js/filters.js","../src/js/api.js","../src/js/model/cards.js","../src/js/model/modal-products.js","../src/js/button-cart.js","../src/js/add-to-the-cart.js","../src/js/model/sorry.js","../src/js/homePage.js","../src/js/pagination.js","../src/js/actions-cards.js"],"sourcesContent":["import localStorageAPI from './localStorage.js';\n\nexport function renderCategoryList(list) {\n  const updatedList = [...list, 'Show all'];\n\n  const listOfCategory = updatedList.map(item => {\n    return `<li class=\"filters-categories-item\" data-category=\"${item}\">${item}</li>`;\n  });\n\n  const listElement = document.querySelector('.filters-categories-list');\n  listElement.insertAdjacentHTML(\n    'beforeend',\n    listOfCategory.join('').replaceAll('_', ' ')\n  );\n\n  console.log('Rendered Category List:', listOfCategory);\n}\n\nexport function openDropDown(event) {\n  const parentElement = this.closest('.filters-wrap');\n  const svgElement = parentElement.querySelector('.filters-down-svg');\n  const list = parentElement.querySelector('ul');\n\n  list.classList.toggle('list-active');\n  svgElement.classList.toggle('rotate');\n}\n\nexport function rotateButton(event) {\n  this.classList.toggle('rotate');\n  const list = this.previousElementSibling;\n\n  if (list.classList.contains('list-active')) {\n    list.classList.remove('list-active');\n  } else {\n    list.classList.add('list-active');\n  }\n}\n\nfunction triggerSearchButton() {\n  const searchButton = document.querySelector('.filters-search-btn');\n  if (searchButton) {\n    searchButton.click();\n  }\n}\n\nexport function changeCategoriesValue(event) {\n  const input = document.querySelector('.filters-categories');\n  const list = document.querySelector('.filters-categories-list');\n  const newValue = event.target.textContent;\n\n  input.textContent = newValue;\n  list.classList.remove('list-active');\n  list.nextElementSibling.classList.remove('rotate');\n\n  triggerSearchButton();\n}\n\nexport function changeTypesValue(event) {\n  const input = document.querySelector('.filters-allTypes');\n  const list = document.querySelector('.filters-allTypes-list');\n  const newValue = event.target.textContent;\n\n  input.textContent = newValue;\n  list.classList.remove('list-active');\n  list.nextElementSibling.classList.remove('rotate');\n\n  triggerSearchButton();\n}\n\nexport function collectQueryParameters() {\n  const filterSearch = document\n    .querySelector('.filters-allTypes')\n    .textContent.split(' ')\n    .join('');\n\n  const categoryElement = document.querySelector('.filters-categories');\n  const categoryText = categoryElement.textContent.trim();\n  const category =\n    categoryText.toLowerCase() === 'all'\n      ? ''\n      : categoryText.split(' ').join('_').replace('/', '&');\n\n  const searchWord = document.querySelector('.filters-input').value;\n\n  const queryParameters = {\n    category,\n    keyword: searchWord,\n    filterSearch: `by${filterSearch}`,\n  };\n\n  const savedParams = localStorageAPI.load('queryParams');\n  if (\n    savedParams &&\n    savedParams.category === queryParameters.category &&\n    savedParams.keyword === queryParameters.keyword &&\n    savedParams.filterSearch === queryParameters.filterSearch\n  ) {\n    return null;\n  }\n\n  const paramsForBack = {\n    category,\n    keyword: searchWord,\n    filterSearch: `by${filterSearch}`,\n    page: 1,\n    limit: 9,\n  };\n\n  localStorageAPI.save('queryParams', paramsForBack);\n  return queryParameters;\n}\n\nexport function getFilter(arg) {\n  let filter;\n  switch (arg) {\n    case 'byAtoZ':\n      filter = 'byABC=true';\n      break;\n    case 'byZtoA':\n      filter = 'byABC=false';\n      break;\n    case 'byCheaperfirst':\n      filter = 'byPrice=true';\n      break;\n    case 'byExpensivefirst':\n      filter = 'byPrice=false';\n      break;\n    case 'byPopular':\n      filter = 'byPopularity=false';\n      break;\n    case 'byNotpopular':\n      filter = 'byPopularity=true';\n      break;\n    case 'Show all':\n      filter = '';\n      break;\n    default:\n      filter = 'byABC=true';\n      break;\n  }\n\n  return filter;\n}","import axios from 'axios';\nimport { getFilter } from './filters.js';\nconst BASE_URL = 'https://food-boutique.b.goit.study/api/products';\n\nexport async function getCategories() {\n  const response = await axios.get(\n    `https://food-boutique.b.goit.study/api/products/categories`\n  );\n  return response.data;\n}\n\nexport async function getAllProducts(queryParams) {\n  let { keyword, category, page, limit, filterSearch } = queryParams;\n\n  const screenWidth = window.innerWidth;\n\n  if (screenWidth < 768) {\n    limit = 6;\n  } else if (screenWidth >= 768 && screenWidth < 1440) {\n    limit = 8;\n  } else {\n    limit = 9;\n  }\n\n  const params = new URLSearchParams({\n    page,\n    limit,\n  });\n  if (keyword !== '') {\n    params.append('keyword', keyword);\n  }\n\n  if (category !== '' && category !== 'Show_all' && category !== 'Categories') {\n    params.append('category', category);\n  }\n\n  const response = await axios.get(\n    `${BASE_URL}?${params}&${getFilter(filterSearch)}`\n  );\n  return response.data;\n}\n\nexport async function getDiscountProducts() {\n  const response = await axios.get(\n    `https://food-boutique.b.goit.study/api/products/discount`\n  );\n  return response.data;\n}\n\nexport async function getPopularProducts() {\n  const response = await axios.get(\n    `https://food-boutique.b.goit.study/api/products/popular`\n  );\n  return response.data;\n}\n\nexport async function getProductsByQuery(queryParams) {\n  let response;\n  let { keyword, category, page = 1, limit, filterSearch } = queryParams;\n\n  const screenWidth = window.innerWidth;\n\n  if (screenWidth < 768) {\n    limit = 6;\n  } else if (screenWidth >= 768 && screenWidth < 1440) {\n    limit = 8;\n  } else {\n    limit = 9;\n  }\n\n  const params = new URLSearchParams({\n    limit,\n    page,\n  });\n\n  if (keyword !== '') {\n    params.append('keyword', keyword);\n  }\n\n  if (category !== '' && category !== 'Show_all' && category !== 'Categories') {\n    params.append('category', category);\n  }\n\n  response = await axios.get(\n    `${BASE_URL}?${params}&${getFilter(filterSearch)}`\n  );\n\n  return response.data;\n}\n\n// get\nexport async function getProducttById(id) {\n  const response = await axios.get(\n    `https://food-boutique.b.goit.study/api/products/${id}`\n  );\n  return response.data;\n}\n\n// POST\nexport async function registrSubscription(client) {\n  const response = await axios.post(\n    `https://food-boutique.b.goit.study/api/subscription`,\n    client,\n    {\n      headers: {\n        'content-type': 'application/json',\n      },\n    }\n  );\n  return response.data;\n}\n\nexport async function order(order) {\n  const response = await axios.post(\n    `https://food-boutique.b.goit.study/api/orders`,\n    order,\n    {\n      headers: {\n        'content-type': 'application/json',\n      },\n    }\n  );\n  return response.data;\n}","import iconsPath from '../../img/icons.svg';\nimport { arrProducts } from '../homePage.js';\n\nexport function createProductCard(product) {\n  let { img, name, category, size, popularity, price, _id, is10PercentOff } = product;\n  const cleanedCategory = category.replace(/_/g, ' ');\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n  return `\n      <li class=\"product-card-general\">\n          <div class=\"img-wrapper\">\n            <img\n              class=\"card-img\"\n              src=\"${img}\"\n              alt=\"${name}\"\n              loading=\"lazy\"\n            />\n          </div>\n  \n              <div class=\"general-card-container\" >\n                  <h3 class=\"general-card-title\">${name}</h3>\n                  <div class=\"general-span-container\">\n                  <span class=\"general-span-info\">Category:<span class=\"span-info-value\">${cleanedCategory}</span></span>\n\n                  <span class=\"general-span-info\">Size:<span class=\"span-info-value\">${size}</span></span>\n\n                  <span class=\"general-span-info\">Popularity:<span class=\"span-info-value\">${popularity}</span></span>\n                  </div>\n              </div>\n    \n              <div class=\"general-card-price\">\n                  <span class=\"general-span-price\">&#36;${price}</span>\n                  <button data-id=${_id} type=\"submit\" class=\"addToCart-btn js-addToCart-btn\" ${\n    isInCart ? 'disabled' : ''\n  }>\n                      <svg class=\"cart-svg \" width=\"18\" height=\"18\">\n                          <use href=\"${iconsPath}${\n    isInCart ? '#checkmark' : '#shopping-cart'\n  }\"></use>\n                         \n                      </svg>  \n                  </button>\n              </div>\n              <svg class=\"general-discount-svg ${\n                is10PercentOff ? 'discount-label' : ''\n              }\" width=\"60\" height=\"60\">\n                <use href=\"${iconsPath}#discount\"></use>\n              </svg>\n      </li>\n      `;\n}\n\nexport function createPopularCard(product) {\n  const { img, name, category, size, popularity, _id } = product;\n  const cleanedCategory = category.replace(/_/g, ' ');\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n\n  return `\n        <li class=\"popular-product-card\">\n            <div class=\"poppular-img-wrapper\">\n              <img\n                class=\"popular-card-img\"\n                src=\"${img}\"\n                alt=\"${name}\"\n                loading=\"lazy\"\n              />\n            </div>\n    \n                <div class=\"popular-card-info\" >\n                    <h3 class=\"popular-card-title\">${name}</h3>\n                    <div class=\"popular-span-container\">\n                    <span class=\"popular-span-info\">Category: <span class=\"span-info-value\">${cleanedCategory}</span></span>\n                    <span class=\"popular-span-info\">Size: <span class=\"span-info-value\">${size}</span></span>\n                    <span class=\"popular-span-info\">Popularity: <span class=\"span-info-value\">${popularity}</span></span>\n                    </div>\n                </div>\n                    \n                <button data-id=${_id} type=\"submit\" class=\"popular-card-btn js-addToCart-btn\" ${\n    isInCart ? 'disabled' : ''\n  }>\n                    <svg class=\"popular-cart-svg\" width=\"12\" height=\"12\">\n                        <use href=\"${iconsPath}${\n    isInCart ? '#checkmark' : '#shopping-cart'\n  }\"></use>\n                    </svg>\n                </button>\n            \n        </li>\n        `;\n}\n\nexport function createDiscountCard(product) {\n  const { img, name, price, _id } = product;\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n\n  return `\n      <li class=\"discount-product-card\">\n      <div class=\"discount-img-wrapper\">\n        <img\n          class=\"discount-card-img\"\n          src=\"${img}\"\n          alt=\"${name}\"\n          loading=\"lazy\"\n        />\n        <svg class=\"discount-svg-icon\" width=\"60\" height=\"60\">\n          <use href=\"${iconsPath}#discount\"></use>\n        </svg>\n\n      </div>\n\n      <div class=\"discount-card-info\" >\n          <h3 class=\"discount-card-title\">${name}</h3>\n\n          <div class=\"discount-card-price\">\n              <span class=\"span-price\">&#36;${price}</span>\n              <button data-id=${_id} type=\"submit\" class=\"addToCart-btn js-addToCart-btn\" ${isInCart ? 'disabled': ''}>\n                  <svg class=\"cart-svg\" width=\"18\" height=\"18\">\n                      <use href=\"${iconsPath}${isInCart ? '#checkmark' : '#shopping-cart'}\"></use>\n                  </svg>\n              </button>\n          </div>\n      </div>\n  </li>`;\n}\n\nexport function renderMarkup(data, typeOfCard, listOfCard) {\n  let markup;\n  typeOfCard === 'general'\n    ? (markup = data.map(product => createProductCard(product)))\n    : typeOfCard === 'popular'\n    ? (markup = data.map(product => createPopularCard(product)))\n    : (markup = data.map(product => createDiscountCard(product)));\n\n  listOfCard.innerHTML = markup.join('');\n}","import { arrProducts } from '../homePage.js';\n\nimport pathToSvg from '../../img/icons.svg';\n\nexport function onClickCloseModal() {\n  const modalProductBackdrop = document.querySelector(\n    '.modal-product-backdrop'\n  );\n  modalProductBackdrop.remove();\n  modalProductBackdrop.classList.add('is-hidden');\n  document.body.classList.remove('is-overflow-hidden');\n}\n\nexport function onEscapeCloseModal(event) {\n  const modalProductBackdrop = document.querySelector(\n    '.modal-product-backdrop'\n  );\n  if (event.key === 'Escape') {\n    onClickCloseModal();\n    modalProductBackdrop.classList.add('is-hidden');\n  }\n}\n\nexport function onClickOutModalProduct(event) {\n  const modalProductBackdrop = document.querySelector(\n    '.modal-product-backdrop'\n  );\n  if (event.target === modalProductBackdrop) {\n    onClickCloseModal();\n    modalProductBackdrop.classList.remove('is-hidden');\n  }\n}\n\nexport function onRenderModalProduct(product) {\n  let { name, category, desc, img, price, size, popularity, _id } = product;\n  const cleanedCategory = category.replace(/_/g, ' ');\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n  return `\n          <div class=\"modal-product-backdrop\" data-modal>\n          <div class=\"modal-product\">\n              <button type=\"button\" class=\"modal-btn-close\" data-modal-close>\n                  <svg class=\"modal-svg-close\" width=\"28\" height=\"28\">\n                      <use href=\"${pathToSvg}#close\"></use>\n                  </svg>\n              </button>\n      \n              <div class=\"modal-product-info\">\n                  <div class=\"modal-product-img-wrapper\">\n                    \n                      <img class=\"modal-product-img\" src=\"${img}\" alt=\"${name}\" width=\"1660\">\n        \n                  </div>\n      \n                  <div class=\"modal-product-description\">\n                      <h2 class=\"modal-title\">${name}</h2>\n      \n                      <ul class=\"modal-product-list\">\n                          <li class=\"modal-product-item\">\n                              <h3 class=\"modal-product-caption\">Category:</h3>\n                              <p class=\"modal-product-content\">${cleanedCategory}</p>\n                          </li>\n                          <li class=\"modal-product-item\">\n                              <h3 class=\"modal-product-caption\">Size:</h3>\n                              <p class=\"modal-product-content\">${size}</p>\n                          </li>\n                          <li class=\"modal-product-item\">\n                              <h3 class=\"modal-product-caption\">Popularity:</h3>\n                              <p class=\"modal-product-content\">${popularity}</p>\n                          </li>\n                      </ul>\n      \n                      <p class=\"modal-product-text\">${desc}</p>\n                  </div>\n              </div>\n      \n              <div class=\"modal-product-wrapper-price\">\n                  <p class=\"modal-product-price\"><span>&#36;</span>${price}</p>\n                  <button data-id=${_id} type=\"submit\" class=\"modal-product-btn-price\">\n                  ${isInCart ? 'Remove from' : 'Add to'} \n                      <svg class=\"modal-btn-svg\" width=\"18\" height=\"18\">\n                          <use class=\"modal-icon-svg\" href=\"${pathToSvg}#shopping-cart\"></use>\n                      </svg>\n                  </button>\n              </div>\n          </div>\n      </div>\n      `;\n}","import { getProducttById } from './api.js';\nimport {\n  onRenderModalProduct,\n  onClickCloseModal,\n  onClickOutModalProduct,\n  onEscapeCloseModal,\n} from './model/modal-products.js';\nimport { addToCartFromModal } from './homePage.js';\n\nexport async function openProductModal(event) {\n  if (event.target.closest('.js-addToCart-btn')) {\n    return;\n  }\n  const ParentElement = event.target.closest('li');\n  const cardButton = ParentElement.querySelector('.js-addToCart-btn');\n  const productId = cardButton.getAttribute('data-id');\n  const productInfo = await getProducttById(productId);\n\n  document\n    .querySelector('body')\n    .insertAdjacentHTML('beforeend', onRenderModalProduct(productInfo));\n  document.body.classList.add('is-overflow-hidden');\n  const closeModalButton = document.querySelector('.modal-btn-close');\n  closeModalButton.addEventListener('click', onClickCloseModal);\n  document.addEventListener('keydown', onEscapeCloseModal);\n  document.addEventListener('click', onClickOutModalProduct);\n  document\n    .querySelector('.modal-product-btn-price')\n    .addEventListener('click', addToCartFromModal);\n}","import { getProducttById } from \"./api.js\";\nimport iconsPath from \"../img/icons.svg\"\nimport {getLength} from './header.js'\nimport { arrProducts } from './homePage.js';\n\nexport async function saveToLocalStorage(event) {\n  const id = event.currentTarget.getAttribute('data-id');\n  const buttons = document.querySelectorAll(`button[data-id='${id}']`);\n  buttons.forEach(button => {\n    const passSvg = button.querySelector('use');\n    passSvg.setAttribute('href', `${iconsPath}#checkmark`);\n    button.setAttribute('disabled', 'true');\n  });\n  console.log(buttons);\n  const productData = {};\n\n   try {\n    const product = await getProducttById(id);\n   console.log(product);\n    const { category,  size, _id, name, price, img  } = product;\n    productData.category = category;\n    productData.size = size;\n    productData.id = _id;\n    productData.name = name;\n    productData.price = price;\n    productData.img = img;\n   } catch (error) {\n    console.log(error);\n   }\n    const localStorage = window.localStorage;\n\n    arrProducts.push(productData);\n   \n\n    localStorage.setItem(\"product\", JSON.stringify(arrProducts));\n\n    getLength();\n  }\n\n ","export function renderSorryMessage() {\n    return `\n        <div class=\"sorry-wrapper\">\n            <span class=\"emoji-sorry\">&#128561;</span>\n            <h3 class=\"sorry-message-text\"> Sorry, there are no items matching your filter request!</h3>\n        </div> \n    `;\n}","import iconsPath from '../img/icons.svg';\nimport pathToSvg from '../img/icons.svg';\nimport { getLength } from './header.js';\nimport {\n  openDropDown,\n  rotateButton,\n  changeCategoriesValue,\n  changeTypesValue,\n  collectQueryParameters,\n  renderCategoryList,\n} from './filters.js';\nimport {\n  getProductsByQuery,\n  getAllProducts,\n  getDiscountProducts,\n  getPopularProducts,\n  getProducttById,\n  getCategories,\n} from './api.js';\nimport { renderMarkup } from './model/cards.js';\nimport { openProductModal } from './button-cart.js';\nimport { saveToLocalStorage } from './add-to-the-cart.js';\nimport localStorageAPI from './localStorage.js';\nimport { renderSorryMessage } from './model/sorry.js';\n\nconst searchForm = document.querySelector('.filters-form');\nconst categoriesInput = document.querySelector('.filters-categories');\nconst allSearchInput = document.querySelector('.filters-allTypes');\nconst downBtn = document.querySelectorAll('.filters-down-svg');\nconst allTypesItem = document.querySelectorAll('.filters-allTypes-item');\nconst productsListGeneral = document.querySelector('.products-list-general');\nconst productListDiscount = document.querySelector('.products-list-discount');\nconst productListPopular = document.querySelector('.products-list-popular');\n\nexport let arrProducts = [];\n\nconst fillarrProducts = () => {\n  const dataFromLS = localStorageAPI.load('product');\n\n  if (dataFromLS === undefined) {\n    document.querySelector('#header-length').innerHTML = '0';\n    return;\n  }\n  document.querySelector('#header-length').innerHTML = dataFromLS.length;\n  arrProducts = dataFromLS;\n};\nfillarrProducts();\n\nfunction loadQueryParamsFromLS() {\n  const paramsFromLS = localStorageAPI.load('queryParams');\n  if (!paramsFromLS) {\n    localStorageAPI.save('queryParams', {\n      keyword: '',\n      category: '',\n      page: 1,\n      limit: 9,\n    });\n  }\n}\nloadQueryParamsFromLS();\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  try {\n    const listOfCategories = await getCategories();\n    renderCategoryList(listOfCategories);\n    document.querySelectorAll('.filters-categories-item').forEach(item => {\n      item.addEventListener('click', changeCategoriesValue);\n    });\n\n    const paramsFromLS = localStorageAPI.load('queryParams');\n    const allProduct = await getAllProducts(paramsFromLS);\n    const arrOfAllProducts = allProduct.results;\n    renderMarkup(arrOfAllProducts, 'general', productsListGeneral);\n\n    let cards = document.querySelectorAll('.product-card-general');\n    cards.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const arrOfDiscountProducts = await getDiscountProducts();\n    renderMarkup(arrOfDiscountProducts, 'discount', productListDiscount);\n    let cardsDisc = document.querySelectorAll('.discount-product-card');\n    cardsDisc.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const arrOfPopularProducts = await getPopularProducts();\n    renderMarkup(arrOfPopularProducts, 'popular', productListPopular);\n    let cardsPop = document.querySelectorAll('.popular-product-card');\n    cardsPop.forEach(card => {\n      card.addEventListener('click', openProductModal);\n\n      const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n      addToCartBtn.forEach(btn => {\n        btn.addEventListener('click', saveToLocalStorage);\n      });\n    });\n  } catch (error) {\n    console.log(error);\n  }\n});\n\ncategoriesInput.addEventListener('click', openDropDown);\nallSearchInput.addEventListener('click', openDropDown);\ndownBtn.forEach(btn => {\n  btn.addEventListener('click', rotateButton);\n});\n\nallTypesItem.forEach(item => {\n  item.addEventListener('click', changeTypesValue);\n});\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  try {\n    const queryParameters = collectQueryParameters();\n    const response = await getProductsByQuery(queryParameters);\n    const productForRender = response.results;\n    productsListGeneral.innerHTML = '';\n    if (productForRender.length === 0) {\n      const sorryMessage = renderSorryMessage();\n      productsListGeneral.insertAdjacentHTML('beforeend', sorryMessage);\n    } else {\n      renderMarkup(productForRender, 'general', productsListGeneral);\n    }\n    let cardsDisc = document.querySelectorAll('.product-card-general');\n    cardsDisc.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      btn.addEventListener('click', saveToLocalStorage);\n    });\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nexport async function addToCartFromModal(event) {\n  const productData = {};\n  const id = event.currentTarget.getAttribute('data-id');\n  const isInCart = arrProducts.some(product => product.id === id);\n\n  if (!isInCart) {\n    event.currentTarget.innerHTML = `Remove from <svg class=\"modal-btn-svg\" width=\"18\" height=\"18\">\n                <use class=\"modal-icon-svg\" href=\"${pathToSvg}#shopping-cart\"></use>\n                </svg>`;\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      let _id = btn.getAttribute('data-id');\n      const passSvg = btn.querySelector('use');\n\n      if (_id === id) {\n        passSvg.setAttribute('href', `${iconsPath}#checkmark`);\n        btn.disabled = true;\n      }\n    });\n\n    try {\n      const product = await getProducttById(id);\n      const { category, size, _id, name, price, img } = product;\n      productData.category = category;\n      productData.size = size;\n      productData.id = _id;\n      productData.name = name;\n      productData.price = price;\n      productData.img = img;\n    } catch (error) {\n      console.log(error);\n    }\n\n    const localStorage = window.localStorage;\n\n    arrProducts.push(productData);\n\n    localStorage.setItem('product', JSON.stringify(arrProducts));\n\n    getLength();\n  }\n\n  if (isInCart) {\n    event.currentTarget.innerHTML = `Add to <svg class=\"modal-btn-svg\" width=\"18\" height=\"18\">\n        <use class=\"modal-icon-svg\" href=\"${pathToSvg}#shopping-cart\"></use>\n        </svg>`;\n\n    const idCard = event.currentTarget.getAttribute('data-id');\n    arrProducts = arrProducts.filter(item => item.id !== idCard);\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      let _id = btn.getAttribute('data-id');\n      const passSvg = btn.querySelector('use');\n\n      if (_id === id) {\n        passSvg.setAttribute('href', `${iconsPath}#shopping-cart`);\n        btn.disabled = false;\n      }\n    });\n\n    localStorage.setItem('product', JSON.stringify(arrProducts));\n\n    getLength();\n  }\n}","import Pagination from 'tui-pagination';\nimport { getProductsByQuery } from './api.js';\nimport { renderMarkup } from './model/cards.js';\nimport { collectQueryParameters } from './filters.js';\nimport { renderSorryMessage } from './model/sorry.js';\nimport { openProductModal } from './button-cart.js';\nimport { saveToLocalStorage } from './add-to-the-cart.js';\n\nconst productsListGeneral = document.querySelector('.products-list-general');\nconst container = document.querySelector('#tui-pagination-container');\n\nconst calculateVisiblePages = () => {\n  const screenWidth = window.innerWidth;\n\n  if (screenWidth <= 767) {\n    return 2;\n  } else {\n    return 4;\n  }\n};\n\nconst createPagination = () => {\n  const options = {\n    itemsPerPage: 1,\n    visiblePages: calculateVisiblePages(),\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton: `<a href=\"#\" class=\"icon tui-page-btn tui-{{type}}\">\n        <span class=\"tui-ico-{{type}}\">{{type}}\n        </span>\n        </a>`,\n      disabledMoveButton: `<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">\n        <span class=\"tui-ico-{{type}}\">{{type}}\n        </span>\n        </span>`,\n      moreButton:\n        '<a href=\"#\"  class=\"tui-page-btn-el tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  return new Pagination(container, options);\n};\n\nlet pagination = createPagination();\n\nwindow.addEventListener('resize', () => {\n  pagination.destroy();\n  pagination = createPagination();\n});\n\nconst paginationClick = async event => {\n  const currentPage = event.page;\n  console.log(currentPage);\n\n  try {\n    const queryParameters = collectQueryParameters();\n    queryParameters.page = currentPage;\n    const response = await getProductsByQuery(queryParameters);\n    const productForRender = response.results;\n\n    productsListGeneral.innerHTML = '';\n    if (productForRender.length === 0) {\n      const sorryMessage = renderSorryMessage();\n      productsListGeneral.insertAdjacentHTML('beforeend', sorryMessage);\n    } else {\n      renderMarkup(productForRender, 'general', productsListGeneral);\n    }\n    let cardsDisc = document.querySelectorAll('.product-card-general');\n    cardsDisc.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      btn.addEventListener('click', saveToLocalStorage);\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\npagination.on('afterMove', paginationClick);\n\nconst paginationUpdate = async event => {\n  try {\n    const queryParameters = collectQueryParameters();\n    const response = await getProductsByQuery(queryParameters);\n    if (response.totalPages === 1) {\n      container.classList.add('is-hidden');\n    } else {\n      pagination.setTotalItems(response.totalPages);\n      container.classList.remove('is-hidden');\n    }\n    pagination.reset();\n  } catch (err) {\n    console.log(err);\n  }\n};\ndocument.addEventListener('DOMContentLoaded', paginationUpdate);\n\nconst searchForm = document.querySelector('.filters-form');\nsearchForm.addEventListener('submit', paginationUpdate);","document.addEventListener('DOMContentLoaded', () => {\n    const cardsContainer = document.querySelector('.products-list-general');\n  \n    function handleScroll() {\n      const scrollPercent = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;\n  \n      if (scrollPercent >= 30) {\n        cardsContainer.classList.add('animation');\n      }\n    }\n  \n    window.addEventListener('scroll', handleScroll);\n  });"],"names":["renderCategoryList","list","listOfCategory","item","openDropDown","event","parentElement","svgElement","rotateButton","triggerSearchButton","searchButton","changeCategoriesValue","input","newValue","changeTypesValue","collectQueryParameters","filterSearch","categoryText","category","searchWord","queryParameters","savedParams","localStorageAPI","paramsForBack","getFilter","arg","filter","BASE_URL","getCategories","axios","getAllProducts","queryParams","keyword","page","limit","screenWidth","params","getDiscountProducts","getPopularProducts","getProductsByQuery","response","getProducttById","id","createProductCard","product","img","name","size","popularity","price","_id","is10PercentOff","cleanedCategory","isInCart","arrProducts","iconsPath","createPopularCard","createDiscountCard","renderMarkup","data","typeOfCard","listOfCard","markup","onClickCloseModal","modalProductBackdrop","onEscapeCloseModal","onClickOutModalProduct","onRenderModalProduct","desc","pathToSvg","openProductModal","productId","productInfo","addToCartFromModal","saveToLocalStorage","buttons","button","productData","error","localStorage","getLength","renderSorryMessage","searchForm","categoriesInput","allSearchInput","downBtn","allTypesItem","productsListGeneral","productListDiscount","productListPopular","fillarrProducts","dataFromLS","loadQueryParamsFromLS","listOfCategories","paramsFromLS","arrOfAllProducts","card","arrOfDiscountProducts","arrOfPopularProducts","btn","productForRender","sorryMessage","passSvg","idCard","container","calculateVisiblePages","createPagination","options","Pagination","pagination","paginationClick","currentPage","err","paginationUpdate","cardsContainer","handleScroll"],"mappings":"qHAEO,SAASA,EAAmBC,EAAM,CAGvC,MAAMC,EAFc,CAAC,GAAGD,EAAM,UAAU,EAEL,IAAIE,GAC9B,sDAAsDA,CAAI,KAAKA,CAAI,OAC3E,EAEmB,SAAS,cAAc,0BAA0B,EACzD,mBACV,YACAD,EAAe,KAAK,EAAE,EAAE,WAAW,IAAK,GAAG,CAC/C,EAEE,QAAQ,IAAI,0BAA2BA,CAAc,CACvD,CAEO,SAASE,EAAaC,EAAO,CAClC,MAAMC,EAAgB,KAAK,QAAQ,eAAe,EAC5CC,EAAaD,EAAc,cAAc,mBAAmB,EACrDA,EAAc,cAAc,IAAI,EAExC,UAAU,OAAO,aAAa,EACnCC,EAAW,UAAU,OAAO,QAAQ,CACtC,CAEO,SAASC,EAAaH,EAAO,CAClC,KAAK,UAAU,OAAO,QAAQ,EAC9B,MAAMJ,EAAO,KAAK,uBAEdA,EAAK,UAAU,SAAS,aAAa,EACvCA,EAAK,UAAU,OAAO,aAAa,EAEnCA,EAAK,UAAU,IAAI,aAAa,CAEpC,CAEA,SAASQ,GAAsB,CAC7B,MAAMC,EAAe,SAAS,cAAc,qBAAqB,EAC7DA,GACFA,EAAa,MAAK,CAEtB,CAEO,SAASC,EAAsBN,EAAO,CAC3C,MAAMO,EAAQ,SAAS,cAAc,qBAAqB,EACpDX,EAAO,SAAS,cAAc,0BAA0B,EACxDY,EAAWR,EAAM,OAAO,YAE9BO,EAAM,YAAcC,EACpBZ,EAAK,UAAU,OAAO,aAAa,EACnCA,EAAK,mBAAmB,UAAU,OAAO,QAAQ,EAEjDQ,GACF,CAEO,SAASK,EAAiBT,EAAO,CACtC,MAAMO,EAAQ,SAAS,cAAc,mBAAmB,EAClDX,EAAO,SAAS,cAAc,wBAAwB,EACtDY,EAAWR,EAAM,OAAO,YAE9BO,EAAM,YAAcC,EACpBZ,EAAK,UAAU,OAAO,aAAa,EACnCA,EAAK,mBAAmB,UAAU,OAAO,QAAQ,EAEjDQ,GACF,CAEO,SAASM,GAAyB,CACvC,MAAMC,EAAe,SAClB,cAAc,mBAAmB,EACjC,YAAY,MAAM,GAAG,EACrB,KAAK,EAAE,EAGJC,EADkB,SAAS,cAAc,qBAAqB,EAC/B,YAAY,KAAI,EAC/CC,EACJD,EAAa,YAAW,IAAO,MAC3B,GACAA,EAAa,MAAM,GAAG,EAAE,KAAK,GAAG,EAAE,QAAQ,IAAK,GAAG,EAElDE,EAAa,SAAS,cAAc,gBAAgB,EAAE,MAEtDC,EAAkB,CACtB,SAAAF,EACA,QAASC,EACT,aAAc,KAAKH,CAAY,EACnC,EAEQK,EAAcC,EAAgB,KAAK,aAAa,EACtD,GACED,GACAA,EAAY,WAAaD,EAAgB,UACzCC,EAAY,UAAYD,EAAgB,SACxCC,EAAY,eAAiBD,EAAgB,aAE7C,OAAO,KAGT,MAAMG,EAAgB,CACpB,SAAAL,EACA,QAASC,EACT,aAAc,KAAKH,CAAY,GAC/B,KAAM,EACN,MAAO,CACX,EAEE,OAAAM,EAAgB,KAAK,cAAeC,CAAa,EAC1CH,CACT,CAEO,SAASI,EAAUC,EAAK,CAC7B,IAAIC,EACJ,OAAQD,EAAG,CACT,IAAK,SACHC,EAAS,aACT,MACF,IAAK,SACHA,EAAS,cACT,MACF,IAAK,iBACHA,EAAS,eACT,MACF,IAAK,mBACHA,EAAS,gBACT,MACF,IAAK,YACHA,EAAS,qBACT,MACF,IAAK,eACHA,EAAS,oBACT,MACF,IAAK,WACHA,EAAS,GACT,MACF,QACEA,EAAS,aACT,KACH,CAED,OAAOA,CACT,CC5IA,MAAMC,EAAW,kDAEV,eAAeC,GAAgB,CAIpC,OAHiB,MAAMC,EAAM,IAC3B,4DACJ,GACkB,IAClB,CAEO,eAAeC,EAAeC,EAAa,CAChD,GAAI,CAAE,QAAAC,EAAS,SAAAd,EAAU,KAAAe,EAAM,MAAAC,EAAO,aAAAlB,CAAc,EAAGe,EAEvD,MAAMI,EAAc,OAAO,WAEvBA,EAAc,IAChBD,EAAQ,EACCC,GAAe,KAAOA,EAAc,KAC7CD,EAAQ,EAERA,EAAQ,EAGV,MAAME,EAAS,IAAI,gBAAgB,CACjC,KAAAH,EACA,MAAAC,CACJ,CAAG,EACD,OAAIF,IAAY,IACdI,EAAO,OAAO,UAAWJ,CAAO,EAG9Bd,IAAa,IAAMA,IAAa,YAAcA,IAAa,cAC7DkB,EAAO,OAAO,WAAYlB,CAAQ,GAGnB,MAAMW,EAAM,IAC3B,GAAGF,CAAQ,IAAIS,CAAM,IAAIZ,EAAUR,CAAY,CAAC,EACpD,GACkB,IAClB,CAEO,eAAeqB,GAAsB,CAI1C,OAHiB,MAAMR,EAAM,IAC3B,0DACJ,GACkB,IAClB,CAEO,eAAeS,GAAqB,CAIzC,OAHiB,MAAMT,EAAM,IAC3B,yDACJ,GACkB,IAClB,CAEO,eAAeU,EAAmBR,EAAa,CACpD,IAAIS,EACA,CAAE,QAAAR,EAAS,SAAAd,EAAU,KAAAe,EAAO,EAAG,MAAAC,EAAO,aAAAlB,CAAc,EAAGe,EAE3D,MAAMI,EAAc,OAAO,WAEvBA,EAAc,IAChBD,EAAQ,EACCC,GAAe,KAAOA,EAAc,KAC7CD,EAAQ,EAERA,EAAQ,EAGV,MAAME,EAAS,IAAI,gBAAgB,CACjC,MAAAF,EACA,KAAAD,CACJ,CAAG,EAED,OAAID,IAAY,IACdI,EAAO,OAAO,UAAWJ,CAAO,EAG9Bd,IAAa,IAAMA,IAAa,YAAcA,IAAa,cAC7DkB,EAAO,OAAO,WAAYlB,CAAQ,EAGpCsB,EAAW,MAAMX,EAAM,IACrB,GAAGF,CAAQ,IAAIS,CAAM,IAAIZ,EAAUR,CAAY,CAAC,EACpD,EAESwB,EAAS,IAClB,CAGO,eAAeC,EAAgBC,EAAI,CAIxC,OAHiB,MAAMb,EAAM,IAC3B,mDAAmDa,CAAE,EACzD,GACkB,IAClB,CC7FO,SAASC,EAAkBC,EAAS,CACzC,GAAI,CAAE,IAAAC,EAAK,KAAAC,EAAM,SAAA5B,EAAU,KAAA6B,EAAM,WAAAC,EAAY,MAAAC,EAAO,IAAAC,EAAK,eAAAC,CAAgB,EAAGP,EAC5E,MAAMQ,EAAkBlC,EAAS,QAAQ,KAAM,GAAG,EAC5CmC,EAAWC,EAAY,KAAKV,GAAWA,EAAQ,KAAOM,CAAG,EAE/D,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKYL,CAAG;AAAA,qBACHC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAM0BA,CAAI;AAAA;AAAA,2FAEoCM,CAAe;AAAA;AAAA,uFAEnBL,CAAI;AAAA;AAAA,6FAEEC,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA,0DAK7CC,CAAK;AAAA,oCAC3BC,CAAG,yDACnCG,EAAW,WAAa,EACzB;AAAA;AAAA,uCAEoCE,CAAS,GAC5CF,EAAW,aAAe,gBAC3B;AAAA;AAAA;AAAA;AAAA;AAAA,iDAMaF,EAAiB,iBAAmB,EACrC;AAAA,6BACcI,CAAS;AAAA;AAAA;AAAA,OAItC,CAEO,SAASC,EAAkBZ,EAAS,CACzC,KAAM,CAAE,IAAAC,EAAK,KAAAC,EAAM,SAAA5B,EAAU,KAAA6B,EAAM,WAAAC,EAAY,IAAAE,CAAK,EAAGN,EACjDQ,EAAkBlC,EAAS,QAAQ,KAAM,GAAG,EAC5CmC,EAAWC,EAAY,KAAKV,GAAWA,EAAQ,KAAOM,CAAG,EAG/D,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKcL,CAAG;AAAA,uBACHC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAM0BA,CAAI;AAAA;AAAA,8FAEqCM,CAAe;AAAA,0FACnBL,CAAI;AAAA,gGACEC,CAAU;AAAA;AAAA;AAAA;AAAA,kCAIxEE,CAAG,4DACjCG,EAAW,WAAa,EACzB;AAAA;AAAA,qCAEkCE,CAAS,GAC1CF,EAAW,aAAe,gBAC3B;AAAA;AAAA;AAAA;AAAA;AAAA,SAMH,CAEO,SAASI,EAAmBb,EAAS,CAC1C,KAAM,CAAE,IAAAC,EAAK,KAAAC,EAAM,MAAAG,EAAO,IAAAC,CAAG,EAAKN,EAC5BS,EAAWC,EAAY,KAAKV,GAAWA,EAAQ,KAAOM,CAAG,EAG/D,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKQL,CAAG;AAAA,iBACHC,CAAI;AAAA;AAAA;AAAA;AAAA,uBAIES,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAMYT,CAAI;AAAA;AAAA;AAAA,8CAGFG,CAAK;AAAA,gCACnBC,CAAG,yDAAyDG,EAAW,WAAY,EAAE;AAAA;AAAA,mCAElFE,CAAS,GAAGF,EAAW,aAAe,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,QAMzF,CAEO,SAASK,EAAaC,EAAMC,EAAYC,EAAY,CACzD,IAAIC,EACJF,IAAe,UACVE,EAASH,EAAK,IAAIf,GAAWD,EAAkBC,CAAO,CAAC,EACxDgB,IAAe,UACdE,EAASH,EAAK,IAAIf,GAAWY,EAAkBZ,CAAO,CAAC,EACvDkB,EAASH,EAAK,IAAIf,GAAWa,EAAmBb,CAAO,CAAC,EAE7DiB,EAAW,UAAYC,EAAO,KAAK,EAAE,CACvC,CCpIO,SAASC,GAAoB,CAClC,MAAMC,EAAuB,SAAS,cACpC,yBACJ,EACEA,EAAqB,OAAM,EAC3BA,EAAqB,UAAU,IAAI,WAAW,EAC9C,SAAS,KAAK,UAAU,OAAO,oBAAoB,CACrD,CAEO,SAASC,EAAmB5D,EAAO,CACxC,MAAM2D,EAAuB,SAAS,cACpC,yBACJ,EACM3D,EAAM,MAAQ,WAChB0D,IACAC,EAAqB,UAAU,IAAI,WAAW,EAElD,CAEO,SAASE,EAAuB7D,EAAO,CAC5C,MAAM2D,EAAuB,SAAS,cACpC,yBACJ,EACM3D,EAAM,SAAW2D,IACnBD,IACAC,EAAqB,UAAU,OAAO,WAAW,EAErD,CAEO,SAASG,EAAqBvB,EAAS,CAC5C,GAAI,CAAE,KAAAE,EAAM,SAAA5B,EAAU,KAAAkD,EAAM,IAAAvB,EAAK,MAAAI,EAAO,KAAAF,EAAM,WAAAC,EAAY,IAAAE,CAAK,EAAGN,EAClE,MAAMQ,EAAkBlC,EAAS,QAAQ,KAAM,GAAG,EAC5CmC,EAAWC,EAAY,KAAKV,GAAWA,EAAQ,KAAOM,CAAG,EAE/D,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,mCAK0BmB,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAOgBxB,CAAG,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gDAK7BA,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iEAKaM,CAAe;AAAA;AAAA;AAAA;AAAA,iEAIfL,CAAI;AAAA;AAAA;AAAA;AAAA,iEAIJC,CAAU;AAAA;AAAA;AAAA;AAAA,sDAIrBoB,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qEAKWnB,CAAK;AAAA,oCACtCC,CAAG;AAAA,oBACnBG,EAAW,cAAgB,QAAQ;AAAA;AAAA,8DAEOgB,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOvE,CC/EO,eAAeC,EAAiBjE,EAAO,CAC5C,GAAIA,EAAM,OAAO,QAAQ,mBAAmB,EAC1C,OAIF,MAAMkE,EAFgBlE,EAAM,OAAO,QAAQ,IAAI,EACd,cAAc,mBAAmB,EACrC,aAAa,SAAS,EAC7CmE,EAAc,MAAM/B,EAAgB8B,CAAS,EAEnD,SACG,cAAc,MAAM,EACpB,mBAAmB,YAAaJ,EAAqBK,CAAW,CAAC,EACpE,SAAS,KAAK,UAAU,IAAI,oBAAoB,EACvB,SAAS,cAAc,kBAAkB,EACjD,iBAAiB,QAAST,CAAiB,EAC5D,SAAS,iBAAiB,UAAWE,CAAkB,EACvD,SAAS,iBAAiB,QAASC,CAAsB,EACzD,SACG,cAAc,0BAA0B,EACxC,iBAAiB,QAASO,EAAkB,CACjD,CCxBO,eAAeC,EAAmBrE,EAAO,CAC9C,MAAMqC,EAAKrC,EAAM,cAAc,aAAa,SAAS,EAC/CsE,EAAU,SAAS,iBAAiB,mBAAmBjC,CAAE,IAAI,EACnEiC,EAAQ,QAAQC,GAAU,CACRA,EAAO,cAAc,KAAK,EAClC,aAAa,OAAQ,GAAGrB,CAAS,YAAY,EACrDqB,EAAO,aAAa,WAAY,MAAM,CAC1C,CAAG,EACD,QAAQ,IAAID,CAAO,EACnB,MAAME,EAAc,CAAA,EAEnB,GAAI,CACH,MAAMjC,EAAU,MAAMH,EAAgBC,CAAE,EACzC,QAAQ,IAAIE,CAAO,EAClB,KAAM,CAAE,SAAA1B,EAAW,KAAA6B,EAAM,IAAAG,EAAK,KAAAJ,EAAM,MAAAG,EAAO,IAAAJ,CAAM,EAAGD,EACpDiC,EAAY,SAAW3D,EACvB2D,EAAY,KAAO9B,EACnB8B,EAAY,GAAK3B,EACjB2B,EAAY,KAAO/B,EACnB+B,EAAY,MAAQ5B,EACpB4B,EAAY,IAAMhC,CAClB,OAAQiC,EAAO,CACf,QAAQ,IAAIA,CAAK,CACjB,CACA,MAAMC,EAAe,OAAO,aAE5BzB,EAAY,KAAKuB,CAAW,EAG5BE,EAAa,QAAQ,UAAW,KAAK,UAAUzB,CAAW,CAAC,EAE3D0B,GACJ,CCrCO,SAASC,GAAqB,CACjC,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,KAMX,CCkBA,MAAMC,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAkB,SAAS,cAAc,qBAAqB,EAC9DC,EAAiB,SAAS,cAAc,mBAAmB,EAC3DC,GAAU,SAAS,iBAAiB,mBAAmB,EACvDC,GAAe,SAAS,iBAAiB,wBAAwB,EACjEC,EAAsB,SAAS,cAAc,wBAAwB,EACrEC,GAAsB,SAAS,cAAc,yBAAyB,EACtEC,GAAqB,SAAS,cAAc,wBAAwB,EAEnE,IAAInC,EAAc,CAAA,EAEzB,MAAMoC,GAAkB,IAAM,CAC5B,MAAMC,EAAarE,EAAgB,KAAK,SAAS,EAEjD,GAAIqE,IAAe,OAAW,CAC5B,SAAS,cAAc,gBAAgB,EAAE,UAAY,IACrD,MACD,CACD,SAAS,cAAc,gBAAgB,EAAE,UAAYA,EAAW,OAChErC,EAAcqC,CAChB,EACAD,KAEA,SAASE,IAAwB,CACVtE,EAAgB,KAAK,aAAa,GAErDA,EAAgB,KAAK,cAAe,CAClC,QAAS,GACT,SAAU,GACV,KAAM,EACN,MAAO,CACb,CAAK,CAEL,CACAsE,KAEA,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,GAAI,CACF,MAAMC,EAAmB,MAAMjE,IAC/B5B,EAAmB6F,CAAgB,EACnC,SAAS,iBAAiB,0BAA0B,EAAE,QAAQ1F,GAAQ,CACpEA,EAAK,iBAAiB,QAASQ,CAAqB,CAC1D,CAAK,EAED,MAAMmF,EAAexE,EAAgB,KAAK,aAAa,EAEjDyE,GADa,MAAMjE,EAAegE,CAAY,GAChB,QACpCpC,EAAaqC,EAAkB,UAAWR,CAAmB,EAEjD,SAAS,iBAAiB,uBAAuB,EACvD,QAAQS,GAAQ,CACpBA,EAAK,iBAAiB,QAAS1B,CAAgB,CACrD,CAAK,EAED,MAAM2B,EAAwB,MAAM5D,IACpCqB,EAAauC,EAAuB,WAAYT,EAAmB,EACnD,SAAS,iBAAiB,wBAAwB,EACxD,QAAQQ,GAAQ,CACxBA,EAAK,iBAAiB,QAAS1B,CAAgB,CACrD,CAAK,EAED,MAAM4B,EAAuB,MAAM5D,IACnCoB,EAAawC,EAAsB,UAAWT,EAAkB,EACjD,SAAS,iBAAiB,uBAAuB,EACvD,QAAQO,GAAQ,CACvBA,EAAK,iBAAiB,QAAS1B,CAAgB,EAE1B,SAAS,iBAAiB,mBAAmB,EACrD,QAAQ6B,GAAO,CAC1BA,EAAI,iBAAiB,QAASzB,CAAkB,CACxD,CAAO,CACP,CAAK,CACF,OAAQI,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAAC,EAEDK,EAAgB,iBAAiB,QAAS/E,CAAY,EACtDgF,EAAe,iBAAiB,QAAShF,CAAY,EACrDiF,GAAQ,QAAQc,GAAO,CACrBA,EAAI,iBAAiB,QAAS3F,CAAY,CAC5C,CAAC,EAED8E,GAAa,QAAQnF,GAAQ,CAC3BA,EAAK,iBAAiB,QAASW,CAAgB,CACjD,CAAC,EAEDoE,EAAW,iBAAiB,SAAU,MAAM7E,GAAS,CACnDA,EAAM,eAAc,EACpB,GAAI,CACF,MAAMe,EAAkBL,IAElBqF,GADW,MAAM7D,EAAmBnB,CAAe,GACvB,QAElC,GADAmE,EAAoB,UAAY,GAC5Ba,EAAiB,SAAW,EAAG,CACjC,MAAMC,EAAepB,IACrBM,EAAoB,mBAAmB,YAAac,CAAY,CACtE,MACM3C,EAAa0C,EAAkB,UAAWb,CAAmB,EAE/C,SAAS,iBAAiB,uBAAuB,EACvD,QAAQS,GAAQ,CACxBA,EAAK,iBAAiB,QAAS1B,CAAgB,CACrD,CAAK,EAEoB,SAAS,iBAAiB,mBAAmB,EACrD,QAAQ6B,GAAO,CAC1BA,EAAI,iBAAiB,QAASzB,CAAkB,CACtD,CAAK,CACF,OAAQI,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAAC,EAEM,eAAeL,GAAmBpE,EAAO,CAC9C,MAAMwE,EAAc,CAAA,EACdnC,EAAKrC,EAAM,cAAc,aAAa,SAAS,EAC/CgD,EAAWC,EAAY,KAAKV,GAAWA,EAAQ,KAAOF,CAAE,EAE9D,GAAI,CAACW,EAAU,CACbhD,EAAM,cAAc,UAAY;AAAA,oDACgBgE,CAAS;AAAA,wBAGpC,SAAS,iBAAiB,mBAAmB,EACrD,QAAQ8B,GAAO,CAC1B,IAAIjD,EAAMiD,EAAI,aAAa,SAAS,EACpC,MAAMG,EAAUH,EAAI,cAAc,KAAK,EAEnCjD,IAAQR,IACV4D,EAAQ,aAAa,OAAQ,GAAG/C,CAAS,YAAY,EACrD4C,EAAI,SAAW,GAEvB,CAAK,EAED,GAAI,CACF,MAAMvD,EAAU,MAAMH,EAAgBC,CAAE,EAClC,CAAE,SAAAxB,EAAU,KAAA6B,EAAM,IAAAG,EAAK,KAAAJ,EAAM,MAAAG,EAAO,IAAAJ,CAAK,EAAGD,EAClDiC,EAAY,SAAW3D,EACvB2D,EAAY,KAAO9B,EACnB8B,EAAY,GAAK3B,EACjB2B,EAAY,KAAO/B,EACnB+B,EAAY,MAAQ5B,EACpB4B,EAAY,IAAMhC,CACnB,OAAQiC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CAED,MAAMC,EAAe,OAAO,aAE5BzB,EAAY,KAAKuB,CAAW,EAE5BE,EAAa,QAAQ,UAAW,KAAK,UAAUzB,CAAW,CAAC,EAE3D0B,GACD,CAED,GAAI3B,EAAU,CACZhD,EAAM,cAAc,UAAY;AAAA,4CACQgE,CAAS;AAAA,gBAGjD,MAAMkC,EAASlG,EAAM,cAAc,aAAa,SAAS,EACzDiD,EAAcA,EAAY,OAAOnD,GAAQA,EAAK,KAAOoG,CAAM,EAEtC,SAAS,iBAAiB,mBAAmB,EACrD,QAAQJ,GAAO,CAC1B,IAAIjD,EAAMiD,EAAI,aAAa,SAAS,EACpC,MAAMG,EAAUH,EAAI,cAAc,KAAK,EAEnCjD,IAAQR,IACV4D,EAAQ,aAAa,OAAQ,GAAG/C,CAAS,gBAAgB,EACzD4C,EAAI,SAAW,GAEvB,CAAK,EAED,aAAa,QAAQ,UAAW,KAAK,UAAU7C,CAAW,CAAC,EAE3D0B,GACD,CACH,CCrMA,MAAMO,EAAsB,SAAS,cAAc,wBAAwB,EACrEiB,EAAY,SAAS,cAAc,2BAA2B,EAE9DC,GAAwB,IACR,OAAO,YAER,IACV,EAEA,EAILC,EAAmB,IAAM,CAC7B,MAAMC,EAAU,CACd,aAAc,EACd,aAAcF,GAAuB,EACrC,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YACE,iEACF,WAAY;AAAA;AAAA;AAAA,cAIZ,mBAAoB;AAAA;AAAA;AAAA,iBAIpB,WACE,uGAGH,CACL,EAEE,OAAO,IAAIG,EAAWJ,EAAWG,CAAO,CAC1C,EAEA,IAAIE,EAAaH,EAAgB,EAEjC,OAAO,iBAAiB,SAAU,IAAM,CACtCG,EAAW,QAAO,EAClBA,EAAaH,EAAgB,CAC/B,CAAC,EAED,MAAMI,GAAkB,MAAMzG,GAAS,CACrC,MAAM0G,EAAc1G,EAAM,KAC1B,QAAQ,IAAI0G,CAAW,EAEvB,GAAI,CACF,MAAM3F,EAAkBL,IACxBK,EAAgB,KAAO2F,EAEvB,MAAMX,GADW,MAAM7D,EAAmBnB,CAAe,GACvB,QAGlC,GADAmE,EAAoB,UAAY,GAC5Ba,EAAiB,SAAW,EAAG,CACjC,MAAMC,EAAepB,IACrBM,EAAoB,mBAAmB,YAAac,CAAY,CACtE,MACM3C,EAAa0C,EAAkB,UAAWb,CAAmB,EAE/C,SAAS,iBAAiB,uBAAuB,EACvD,QAAQS,GAAQ,CACxBA,EAAK,iBAAiB,QAAS1B,CAAgB,CACrD,CAAK,EAEoB,SAAS,iBAAiB,mBAAmB,EACrD,QAAQ6B,GAAO,CAC1BA,EAAI,iBAAiB,QAASzB,CAAkB,CACtD,CAAK,CACF,OAAQsC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EACAH,EAAW,GAAG,YAAaC,EAAe,EAE1C,MAAMG,EAAmB,MAAM5G,GAAS,CACtC,GAAI,CACF,MAAMe,EAAkBL,IAClByB,EAAW,MAAMD,EAAmBnB,CAAe,EACrDoB,EAAS,aAAe,EAC1BgE,EAAU,UAAU,IAAI,WAAW,GAEnCK,EAAW,cAAcrE,EAAS,UAAU,EAC5CgE,EAAU,UAAU,OAAO,WAAW,GAExCK,EAAW,MAAK,CACjB,OAAQG,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EACA,SAAS,iBAAiB,mBAAoBC,CAAgB,EAE9D,MAAM/B,GAAa,SAAS,cAAc,eAAe,EACzDA,GAAW,iBAAiB,SAAU+B,CAAgB,EC5GtD,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMC,EAAiB,SAAS,cAAc,wBAAwB,EAEtE,SAASC,GAAe,CACC,OAAO,SAAW,SAAS,KAAK,aAAe,OAAO,aAAgB,KAExE,IACnBD,EAAe,UAAU,IAAI,WAAW,CAE3C,CAED,OAAO,iBAAiB,SAAUC,CAAY,CAClD,CAAG"}